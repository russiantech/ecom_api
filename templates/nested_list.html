<!-- macros.html -->

{% macro render_categories(categories) %}
<ul>
    {% for category in categories %}
        <li>{{ category['name'] }}</li>
        {% if category['children'] %}
            {{ _self.render_categories(category['children']) }}
        {% endif %}
    {% endfor %}
</ul>
{% endmacro %}

{{ render_categories(data) }}